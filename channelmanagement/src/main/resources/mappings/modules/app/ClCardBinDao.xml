<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jeeplus.modules.app.dao.ClCardBinDao">
  <resultMap id="ClCardBinMap" type="ClCardBin">
    <result column="cardbank" jdbcType="VARCHAR" property="cardbank" />
    <result column="orgcode" jdbcType="VARCHAR" property="orgcode" />
    <result column="cardname" jdbcType="VARCHAR" property="cardname" />
    <result column="cardabb" jdbcType="VARCHAR" property="cardabb" />
    <result column="cardbin" jdbcType="VARCHAR" property="cardbin" />
    <result column="cardtype" jdbcType="INTEGER" property="cardtype" />
    <result column="creatdate" jdbcType="TIMESTAMP" property="creatdate" />
    <result column="updatedate" jdbcType="TIMESTAMP" property="updatedate" />
  </resultMap>
  
  <select id="getByClCardBinIdObj" resultMap="ClCardBinMap" parameterType="java.lang.String">
		SELECT *
		FROM CL_CARD_BIN a
		WHERE a.cardbin = #{card}
	</select>
  
  
  <!-- 根据卡的前六位获查询是否有值存在 -->
	<select id="getByClCardBinId" resultMap="ClCardBinMap" parameterType="java.lang.String">
		SELECT a.cardabb,a.cardtype
		FROM CL_CARD_BIN a
		WHERE a.cardbin = #{card}
	</select>
	
  <insert id="insert" parameterType="ClCardBin">
    insert into CL_CARD_BIN (cardbank, orgcode, cardname, 
      cardabb, cardbin, cardtype, 
      creatdate, updatedate)
    values (#{cardbank,jdbcType=VARCHAR}, #{orgcode,jdbcType=VARCHAR}, #{cardname,jdbcType=VARCHAR}, 
      #{cardabb,jdbcType=VARCHAR}, #{cardbin,jdbcType=VARCHAR}, #{cardtype,jdbcType=INTEGER}, 
      #{creatdate,jdbcType=TIMESTAMP}, #{updatedate,jdbcType=TIMESTAMP})
  </insert>
  <insert id="insertSelective" parameterType="ClCardBin">
    insert into CL_CARD_BIN
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="cardbank != null">
        cardbank,
      </if>
      <if test="orgcode != null">
        orgcode,
      </if>
      <if test="cardname != null">
        cardname,
      </if>
      <if test="cardabb != null">
        cardabb,
      </if>
      <if test="cardbin != null">
        cardbin,
      </if>
      <if test="cardtype != null">
        cardtype,
      </if>
      <if test="creatdate != null">
        creatdate,
      </if>
      <if test="updatedate != null">
        updatedate,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="cardbank != null">
        #{cardbank,jdbcType=VARCHAR},
      </if>
      <if test="orgcode != null">
        #{orgcode,jdbcType=VARCHAR},
      </if>
      <if test="cardname != null">
        #{cardname,jdbcType=VARCHAR},
      </if>
      <if test="cardabb != null">
        #{cardabb,jdbcType=VARCHAR},
      </if>
      <if test="cardbin != null">
        #{cardbin,jdbcType=VARCHAR},
      </if>
      <if test="cardtype != null">
        #{cardtype,jdbcType=INTEGER},
      </if>
      <if test="creatdate != null">
        #{creatdate,jdbcType=TIMESTAMP},
      </if>
      <if test="updatedate != null">
        #{updatedate,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
</mapper>